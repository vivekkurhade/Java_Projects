/*
Navicat MySQL Data Transfer

Source Server         : localhost_3306
Source Server Version : 50549
Source Host           : localhost:3306
Source Database       : campuscard

Target Server Type    : MYSQL
Target Server Version : 50549
File Encoding         : 65001

Date: 2017-09-15 06:49:47
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for admin
-- ----------------------------
DROP TABLE IF EXISTS `admin`;
CREATE TABLE `admin` (
  `id` varchar(32) NOT NULL,
  `username` varchar(20) DEFAULT NULL,
  `password` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of admin
-- ----------------------------
INSERT INTO `admin` VALUES ('4B26F360898411E7B73054EE75AEF2EA', 'admin1', 'admin');
INSERT INTO `admin` VALUES ('50A517BC898411E7B73054EE75AEF2EA', 'admin2', 'admin');
INSERT INTO `admin` VALUES ('55C91993898411E7B73054EE75AEF2EA', 'admin3', 'admin');

-- ----------------------------
-- Table structure for apply
-- ----------------------------
DROP TABLE IF EXISTS `apply`;
CREATE TABLE `apply` (
  `aid` varchar(32) NOT NULL,
  `adesc` varchar(255) DEFAULT NULL,
  `time` datetime DEFAULT NULL,
  `uid` varchar(32) DEFAULT NULL,
  KEY `fk_uid2` (`uid`),
  CONSTRAINT `fk_uid2` FOREIGN KEY (`uid`) REFERENCES `user` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of apply
-- ----------------------------
INSERT INTO `apply` VALUES ('550851F03B8A407C8BDE7372A1F93229', '挂失校园卡:', '2017-08-24 22:31:22', '0074FFFCC7FA462FAAC3A5DC9763E590');
INSERT INTO `apply` VALUES ('D03C8BA8ED0649AA96A31E25D48AA45D', '申请解锁校园卡', '2017-08-24 22:47:56', '0074FFFCC7FA462FAAC3A5DC9763E590');
INSERT INTO `apply` VALUES ('A7D8CD9776C242D88BC3EA82407B675B', '取消申请', '2017-08-24 22:48:21', '0074FFFCC7FA462FAAC3A5DC9763E590');
INSERT INTO `apply` VALUES ('E50B108D69A748C982EFD4F90318E932', '申请解锁校园卡', '2017-08-24 22:48:24', '0074FFFCC7FA462FAAC3A5DC9763E590');
INSERT INTO `apply` VALUES ('A7738B629F5E46699ACD9262DEEE26AC', '取消申请', '2017-08-24 22:48:26', '0074FFFCC7FA462FAAC3A5DC9763E590');
INSERT INTO `apply` VALUES ('08C9C1A30D1E4AB6B35A838A8235FB75', '申请解锁校园卡', '2017-08-24 22:57:35', '0074FFFCC7FA462FAAC3A5DC9763E590');
INSERT INTO `apply` VALUES ('EDE90A2B2AB54B478F7DC8ACA2F7A573', '挂失校园卡:校园卡丢了', '2017-08-25 10:52:12', '82327E61FB424A629714BA5653F2C86A');
INSERT INTO `apply` VALUES ('6E1A06B3A24E4A45B5A9A00610693BB1', '管理员锁定该用户', '2017-08-26 22:33:58', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `apply` VALUES ('CDDF1CEB2D3746D898E821AE3A6EE035', '管理员解锁该用户', '2017-08-26 22:43:44', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `apply` VALUES ('F44CA4A84BE94E53A852FAABDF20C8B1', '管理员锁定该用户', '2017-08-26 22:45:11', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `apply` VALUES ('AC194DB2FB294A5C907625D747D737D1', '管理员锁定该用户', '2017-08-26 22:52:41', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `apply` VALUES ('A7E18A6C7E2240DFBCAB990BCAB1890F', '管理员锁定该用户', '2017-08-26 22:52:50', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `apply` VALUES ('E35DC73745AF4FAABE54DB088208C970', '管理员解锁该用户', '2017-08-26 22:58:37', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `apply` VALUES ('41250D380A7E4CFE8EE841D2333BDA82', '管理员解锁该用户', '2017-08-26 22:59:45', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `apply` VALUES ('BDD1E4C984ED404D8C83228467BB683C', '管理员锁定该用户', '2017-08-26 23:01:20', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `apply` VALUES ('11D92D2824C6401881C2CD26D1120E8F', '管理员解锁该用户', '2017-08-26 23:02:16', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `apply` VALUES ('72E01608BAF449E08CBDC91734E5003C', '管理员锁定该用户', '2017-08-26 23:02:55', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `apply` VALUES ('02AF0C423FE84B2F9E35C373AE312C73', '管理员锁定该用户', '2017-08-26 23:02:58', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `apply` VALUES ('056037FFAD60422AAA8F196F54490DDD', '管理员解锁该用户', '2017-08-26 23:03:25', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `apply` VALUES ('144C546F454346E7902E7ED962F0D90B', '管理员解锁该用户', '2017-08-26 23:03:26', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `apply` VALUES ('34FBC869472441F688F7BD540D3A8144', '管理员锁定该用户', '2017-08-26 23:03:44', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `apply` VALUES ('7D0DDEEFAE484A2DB2083E9A84F95475', '管理员锁定该用户', '2017-08-26 23:03:45', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `apply` VALUES ('C6A14E474FF64C0193BF60D9091134C6', '管理员解锁该用户', '2017-08-26 23:06:23', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `apply` VALUES ('E5142A256EA54C678643BC486233177F', '管理员锁定该用户', '2017-08-26 23:06:53', '637F2B78F1684BE6B51C56BACCBC3474');
INSERT INTO `apply` VALUES ('8C199CD926894F02BBE755F492548A13', '管理员锁定该用户', '2017-08-26 23:12:08', '82327E61FB424A629714BA5653F2C86A');
INSERT INTO `apply` VALUES ('979A0C7871334660BF002E192CE080F9', '管理员解锁该用户', '2017-08-26 23:12:13', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `apply` VALUES ('013982F430C84D0BB6E1381FFF4084D9', '管理员锁定该用户', '2017-08-26 23:12:18', '45F1654E375043E998E5C5195C04E167');
INSERT INTO `apply` VALUES ('532A60CC8F904D9FB42F61F7D385D0D3', '管理员锁定该用户', '2017-08-27 10:04:21', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `apply` VALUES ('22F230975D644E67A2E12B49762120A5', '管理员解锁该用户', '2017-08-27 10:04:27', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `apply` VALUES ('D7E4FD0BBB0A4EFBB982E5D59CA0C17F', '管理员锁定该用户', '2017-08-27 10:10:06', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `apply` VALUES ('3D29870F15AD4803A9927070D2C56C28', '管理员锁定该用户', '2017-08-27 10:58:21', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `apply` VALUES ('97E134F33BA54E28BB3411BC53680F21', '管理员锁定该用户', '2017-08-27 10:58:23', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `apply` VALUES ('E62DB8E19C0847E8B31CE1F970968DD5', '管理员解锁该用户', '2017-08-27 10:58:40', '82327E61FB424A629714BA5653F2C86A');
INSERT INTO `apply` VALUES ('DA6618AB14CF4BAB937AC7B895C07644', '管理员解锁该用户', '2017-08-27 10:58:41', '45F1654E375043E998E5C5195C04E167');
INSERT INTO `apply` VALUES ('D0C443F131D84303AED0B5CB40286EF3', '管理员锁定该用户', '2017-08-27 11:01:32', '82327E61FB424A629714BA5653F2C86A');
INSERT INTO `apply` VALUES ('46A738C762D240CEAD6F5A62479B2763', '管理员锁定该用户', '2017-08-27 11:06:08', '45F1654E375043E998E5C5195C04E167');
INSERT INTO `apply` VALUES ('50A90AF8A2954AF4B74592B6363DF7C1', '管理员锁定该用户', '2017-08-27 11:43:12', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `apply` VALUES ('CCBDD72FD1614C62B6FE20B0BBC62277', '管理员解锁该用户', '2017-08-27 11:46:57', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `apply` VALUES ('5B2AFFC41EA54017909F467EAE314E58', '管理员解锁该用户', '2017-08-27 14:17:26', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `apply` VALUES ('7D6C03A4251243CC9BA97FD03953E7A4', '挂失校园卡:测试', '2017-08-27 16:27:32', 'A9AC66608763446BBE689EEF76987B86');
INSERT INTO `apply` VALUES ('B4933D44EAF64903A47EACE2E156D25D', '申请解锁校园卡', '2017-08-27 16:27:52', 'A9AC66608763446BBE689EEF76987B86');
INSERT INTO `apply` VALUES ('A876E9DCD53A4A5B93012F00D8CAB68B', '管理员解锁该用户', '2017-08-27 16:28:35', 'A9AC66608763446BBE689EEF76987B86');
INSERT INTO `apply` VALUES ('6E9D786DFB28436BA3A8D453432CA200', '管理员解锁该用户', '2017-08-27 17:49:21', null);
INSERT INTO `apply` VALUES ('4DD282D3DF8040C39E0DE9A286B030E5', '挂失校园卡:测试挂失', '2017-08-27 17:59:31', null);
INSERT INTO `apply` VALUES ('C0A0536EF70F4AF8B58C59913E01F6E5', '申请解锁校园卡', '2017-08-27 18:00:05', null);
INSERT INTO `apply` VALUES ('05DCB4972A2A4B54A6729115327AA37F', '管理员锁定该用户', '2017-08-27 18:01:11', 'A9AC66608763446BBE689EEF76987B86');
INSERT INTO `apply` VALUES ('720DFB5A09FF4EC1BF02FCEF108E8D2C', '管理员解锁该用户', '2017-08-27 18:01:19', 'A9AC66608763446BBE689EEF76987B86');
INSERT INTO `apply` VALUES ('5AD899170AED495C83C2F2158B4475BE', '管理员解锁该用户', '2017-08-27 18:01:29', null);
INSERT INTO `apply` VALUES ('82DDD02557CD492CA260932E54FF5317', '管理员解锁该用户', '2017-09-11 12:52:06', '0074FFFCC7FA462FAAC3A5DC9763E590');
INSERT INTO `apply` VALUES ('A880A8DEF751454EB82824C956A1F7F2', '挂失校园卡:测试挂失功能', '2017-09-14 23:18:52', null);
INSERT INTO `apply` VALUES ('088CE8D931104D51AAA05EFA126C2929', '申请解锁校园卡', '2017-09-14 23:19:22', null);
INSERT INTO `apply` VALUES ('763662239D60444CA2955A3F87ACBA15', '管理员解锁该用户', '2017-09-14 23:20:21', null);
INSERT INTO `apply` VALUES ('FB4DC881CA874087BC515B839C1F7A0C', '挂失校园卡:挂失申请测试', '2017-09-14 23:25:32', null);
INSERT INTO `apply` VALUES ('B3DD67ACB88A42B0ACC6CA147A8AAD62', '管理员解锁该用户', '2017-09-14 23:26:43', null);

-- ----------------------------
-- Table structure for bill
-- ----------------------------
DROP TABLE IF EXISTS `bill`;
CREATE TABLE `bill` (
  `bid` varchar(32) NOT NULL,
  `bdesc` varchar(255) DEFAULT NULL,
  `money` double DEFAULT NULL,
  `time` datetime DEFAULT NULL,
  `uid` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`bid`),
  KEY `fk_uid` (`uid`),
  CONSTRAINT `fk_uid` FOREIGN KEY (`uid`) REFERENCES `user` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of bill
-- ----------------------------
INSERT INTO `bill` VALUES ('1', '余额充值', '100', '2017-08-24 15:39:16', '0074FFFCC7FA462FAAC3A5DC9763E590');
INSERT INTO `bill` VALUES ('18A02C3796014C91A983CB229303295D', '余额充值', '100', '2017-08-25 09:41:02', '637F2B78F1684BE6B51C56BACCBC3474');
INSERT INTO `bill` VALUES ('18B9A10E38024D90ABCF7D11FCBE303D', '余额充值', '200', '2017-08-24 18:46:45', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `bill` VALUES ('2', '五山超市购买百岁山矿泉水一瓶', '-3.5', '2017-08-24 15:45:58', '0074FFFCC7FA462FAAC3A5DC9763E590');
INSERT INTO `bill` VALUES ('231DE4B83C664D8BB6935FDEFF179022', '余额充值', '200', '2017-08-25 12:05:30', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `bill` VALUES ('263A2BEF167D423C8E46C49DEF78DB6A', '余额充值', '50', '2017-08-25 18:33:35', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('29FC3894C1274491A499ADCDF51D55D3', '余额充值编辑测试', '666', '2017-09-14 23:18:05', null);
INSERT INTO `bill` VALUES ('2AEEAEDC898111E7B73054EE75AEF2EA', '五山超市购买百岁山矿泉水一瓶', '-3.5', '2017-08-25 18:35:40', '45F1654E375043E998E5C5195C04E167');
INSERT INTO `bill` VALUES ('2C06821C898111E7B73054EE75AEF2EA', '芷园午餐', '-9.5', '2017-08-25 18:35:42', '45F1654E375043E998E5C5195C04E167');
INSERT INTO `bill` VALUES ('2C0DC83B898111E7B73054EE75AEF2EA', '三角市打印店复印', '-31.3', '2017-08-25 18:35:42', '45F1654E375043E998E5C5195C04E167');
INSERT INTO `bill` VALUES ('2C129D3F898111E7B73054EE75AEF2EA', '余额充值', '50', '2017-08-25 18:35:42', '45F1654E375043E998E5C5195C04E167');
INSERT INTO `bill` VALUES ('2C17CE81898111E7B73054EE75AEF2EA', '五山区西点屋', '-11.5', '2017-08-25 18:35:42', '45F1654E375043E998E5C5195C04E167');
INSERT INTO `bill` VALUES ('2C1CB171898111E7B73054EE75AEF2EA', '荷园晚餐', '-9.5', '2017-08-25 18:35:42', '45F1654E375043E998E5C5195C04E167');
INSERT INTO `bill` VALUES ('2C220B60898111E7B73054EE75AEF2EA', '三角市水果当铺', '-31.3', '2017-08-25 18:35:42', '45F1654E375043E998E5C5195C04E167');
INSERT INTO `bill` VALUES ('2C26DE10898111E7B73054EE75AEF2EA', '启林区超市', '-11.5', '2017-08-25 18:35:42', '45F1654E375043E998E5C5195C04E167');
INSERT INTO `bill` VALUES ('3', '芷园午餐', '-9.5', '2017-08-24 15:47:43', '0074FFFCC7FA462FAAC3A5DC9763E590');
INSERT INTO `bill` VALUES ('3261EA9F893A48828FD1DA0F5BA52104', '余额充值', '100', '2017-08-25 08:04:19', '45F1654E375043E998E5C5195C04E167');
INSERT INTO `bill` VALUES ('4', '五山超市购买百岁山矿泉水一瓶', '-3.5', '2017-08-24 15:50:12', '0074FFFCC7FA462FAAC3A5DC9763E590');
INSERT INTO `bill` VALUES ('434B2BB8898111E7B73054EE75AEF2EA', '五山超市购买百岁山矿泉水一瓶', '-3.5', '2017-08-25 18:36:21', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `bill` VALUES ('438A7203898111E7B73054EE75AEF2EA', '芷园午餐', '-9.5', '2017-08-25 18:36:21', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `bill` VALUES ('4391A441898111E7B73054EE75AEF2EA', '三角市打印店复印', '-31.3', '2017-08-25 18:36:21', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `bill` VALUES ('4396A16D898111E7B73054EE75AEF2EA', '余额充值', '50', '2017-08-25 18:36:22', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `bill` VALUES ('439BCB14898111E7B73054EE75AEF2EA', '五山区西点屋', '-11.5', '2017-08-25 18:36:22', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `bill` VALUES ('43A0E254898111E7B73054EE75AEF2EA', '荷园晚餐', '-9.5', '2017-08-25 18:36:22', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `bill` VALUES ('43A5C123898111E7B73054EE75AEF2EA', '三角市水果当铺', '-31.3', '2017-08-25 18:36:22', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `bill` VALUES ('43AAFCB9898111E7B73054EE75AEF2EA', '启林区超市', '-11.5', '2017-08-25 18:36:22', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `bill` VALUES ('442B671111214748A4BF05831319E395', '余额充值', '321', '2017-08-27 17:49:54', null);
INSERT INTO `bill` VALUES ('453EFA9AFAA240F9BB904397DC1085A7', '余额充值', '100', '2017-08-25 09:36:15', '637F2B78F1684BE6B51C56BACCBC3474');
INSERT INTO `bill` VALUES ('5', '三角市打印店复印', '-31.3', '2017-08-24 16:03:43', '0074FFFCC7FA462FAAC3A5DC9763E590');
INSERT INTO `bill` VALUES ('5FBA3D00898111E7B73054EE75AEF2EA', '五山超市购买百岁山矿泉水一瓶', '-3.5', '2017-08-25 18:37:09', '637F2B78F1684BE6B51C56BACCBC3474');
INSERT INTO `bill` VALUES ('5FCCF6D9898111E7B73054EE75AEF2EA', '芷园午餐', '-9.5', '2017-08-25 18:37:09', '637F2B78F1684BE6B51C56BACCBC3474');
INSERT INTO `bill` VALUES ('5FD43938898111E7B73054EE75AEF2EA', '三角市打印店复印', '-31.3', '2017-08-25 18:37:09', '637F2B78F1684BE6B51C56BACCBC3474');
INSERT INTO `bill` VALUES ('5FD92775898111E7B73054EE75AEF2EA', '余额充值', '50', '2017-08-25 18:37:09', '637F2B78F1684BE6B51C56BACCBC3474');
INSERT INTO `bill` VALUES ('5FDE582D898111E7B73054EE75AEF2EA', '五山区西点屋', '-11.5', '2017-08-25 18:37:09', '637F2B78F1684BE6B51C56BACCBC3474');
INSERT INTO `bill` VALUES ('5FE351C1898111E7B73054EE75AEF2EA', '荷园晚餐', '-9.5', '2017-08-25 18:37:09', '637F2B78F1684BE6B51C56BACCBC3474');
INSERT INTO `bill` VALUES ('5FE50BA830854F569FCDED1BB5A3B7C3', '余额充值', '500', '2017-08-24 18:30:52', '5972830E41344A8EB23D5FEDC037249F');
INSERT INTO `bill` VALUES ('5FE8B2B8898111E7B73054EE75AEF2EA', '三角市水果当铺', '-31.3', '2017-08-25 18:37:09', '637F2B78F1684BE6B51C56BACCBC3474');
INSERT INTO `bill` VALUES ('5FED79B1898111E7B73054EE75AEF2EA', '启林区超市', '-11.5', '2017-08-25 18:37:09', '637F2B78F1684BE6B51C56BACCBC3474');
INSERT INTO `bill` VALUES ('6', '余额充值', '100', '2017-08-24 16:05:14', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('6784B69E894E11E7B73054EE75AEF2EA', '余额充值', '100', '2017-08-25 12:32:17', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('6797A7E1894E11E7B73054EE75AEF2EA', '五山超市购买百岁山矿泉水一瓶', '-3.5', '2017-08-25 12:32:18', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('679EE123894E11E7B73054EE75AEF2EA', '芷园午餐', '-9.5', '2017-08-25 12:32:18', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('67A3DBF3894E11E7B73054EE75AEF2EA', '三角市打印店复印', '-31.3', '2017-08-25 12:32:18', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('67A90139894E11E7B73054EE75AEF2EA', '五山区西点屋', '-11.5', '2017-08-25 12:32:18', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('6A0398D8894D11E7B73054EE75AEF2EA', '五山区西点屋', '-11.5', '2017-08-25 12:25:12', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('7', '五山超市购买百岁山矿泉水一瓶', '-3.5', '2017-08-24 16:05:15', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('72AD4B0BDAA045A88FBC3A95070F26E9', '余额充值', '123', '2017-08-27 17:58:38', null);
INSERT INTO `bill` VALUES ('8', '芷园午餐', '-9.5', '2017-08-24 16:05:15', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('85AB68B2898111E7B73054EE75AEF2EA', '五山超市购买百岁山矿泉水一瓶', '-3.5', '2017-08-25 18:38:12', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `bill` VALUES ('85ECD481898111E7B73054EE75AEF2EA', '芷园午餐', '-9.5', '2017-08-25 18:38:13', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `bill` VALUES ('85F41B52898111E7B73054EE75AEF2EA', '三角市打印店复印', '-31.3', '2017-08-25 18:38:13', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `bill` VALUES ('85F92F26898111E7B73054EE75AEF2EA', '余额充值', '50', '2017-08-25 18:38:13', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `bill` VALUES ('85FE26A9898111E7B73054EE75AEF2EA', '五山区西点屋', '-11.5', '2017-08-25 18:38:13', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `bill` VALUES ('860334E2898111E7B73054EE75AEF2EA', '荷园晚餐', '-9.5', '2017-08-25 18:38:13', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `bill` VALUES ('8608146F898111E7B73054EE75AEF2EA', '三角市水果当铺', '-31.3', '2017-08-25 18:38:13', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `bill` VALUES ('860D5430898111E7B73054EE75AEF2EA', '启林区超市', '-11.5', '2017-08-25 18:38:13', '84F0C224EF2F4196A1B37DE64B9BF013');
INSERT INTO `bill` VALUES ('886AE57025544E0B87C51941F8F8282B', '余额充值', '100', '2017-09-11 12:53:31', '0074FFFCC7FA462FAAC3A5DC9763E590');
INSERT INTO `bill` VALUES ('9', '三角市打印店复印', '-31.3', '2017-08-24 16:05:15', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('9C3BCF36898111E7B73054EE75AEF2EA', '五山超市购买百岁山矿泉水一瓶', '-3.5', '2017-08-25 18:38:50', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `bill` VALUES ('9C7882C9898111E7B73054EE75AEF2EA', '芷园午餐', '-9.5', '2017-08-25 18:38:51', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `bill` VALUES ('9C7E112B898111E7B73054EE75AEF2EA', '三角市打印店复印', '-31.3', '2017-08-25 18:38:51', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `bill` VALUES ('9C837E44898111E7B73054EE75AEF2EA', '余额充值', '50', '2017-08-25 18:38:51', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `bill` VALUES ('9C8843DE898111E7B73054EE75AEF2EA', '五山区西点屋', '-11.5', '2017-08-25 18:38:51', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `bill` VALUES ('9C8D4534898111E7B73054EE75AEF2EA', '荷园晚餐', '-9.5', '2017-08-25 18:38:51', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `bill` VALUES ('9C92388D898111E7B73054EE75AEF2EA', '三角市水果当铺', '-31.3', '2017-08-25 18:38:51', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `bill` VALUES ('9C977032898111E7B73054EE75AEF2EA', '启林区超市', '-11.5', '2017-08-25 18:38:51', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `bill` VALUES ('9D209E542CBD41C09D08829BFC621311', '编辑余额充值', '123', '2017-08-27 17:46:57', null);
INSERT INTO `bill` VALUES ('9D544C79894D11E7B73054EE75AEF2EA', '余额充值', '100', '2017-08-25 12:26:38', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('9D5FF271894D11E7B73054EE75AEF2EA', '五山超市购买百岁山矿泉水一瓶', '-3.5', '2017-08-25 12:26:38', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('9D64F726894D11E7B73054EE75AEF2EA', '芷园午餐', '-9.5', '2017-08-25 12:26:38', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('9D6A05E4894D11E7B73054EE75AEF2EA', '三角市打印店复印', '-31.3', '2017-08-25 12:26:38', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('9D6F03B4894D11E7B73054EE75AEF2EA', '五山区西点屋', '-11.5', '2017-08-25 12:26:38', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('A33EFA0F8BDE499590E084BB12B8321B', '余额充值', '100', '2017-08-27 16:26:57', 'A9AC66608763446BBE689EEF76987B86');
INSERT INTO `bill` VALUES ('AF4D7D3288A311E7B73054EE75AEF2EA', '五山区西点屋', '-11.5', '2017-08-24 16:10:16', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('B0F773EE898111E7B73054EE75AEF2EA', '五山超市购买百岁山矿泉水一瓶', '-3.5', '2017-08-25 18:39:25', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `bill` VALUES ('B10B4381898111E7B73054EE75AEF2EA', '芷园吃午餐', '-9.5', '2017-08-25 18:39:25', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `bill` VALUES ('B1142CB0898111E7B73054EE75AEF2EA', '三角市打印店复印', '-31.3', '2017-08-25 18:39:25', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `bill` VALUES ('B1190930898111E7B73054EE75AEF2EA', '余额充值', '50', '2017-08-25 18:39:25', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `bill` VALUES ('B11E45FD898111E7B73054EE75AEF2EA', '五山区西点屋', '-11.5', '2017-08-25 18:39:25', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `bill` VALUES ('B1232B60898111E7B73054EE75AEF2EA', '荷园晚餐', '-9.5', '2017-08-25 18:39:25', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `bill` VALUES ('B12872F5898111E7B73054EE75AEF2EA', '三角市水果当铺', '-31.3', '2017-08-25 18:39:25', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `bill` VALUES ('B12D9231898111E7B73054EE75AEF2EA', '启林区超市', '-11.5', '2017-08-25 18:39:25', 'EDA8C8162C0242BD8A989C73FE1D0573');
INSERT INTO `bill` VALUES ('C62B3399222146CB98BDC21C3BDD5329', '余额充值', '200', '2017-08-24 18:42:12', 'DDB734BE74EC446BAA4444DA2E893243');
INSERT INTO `bill` VALUES ('C6C98FAA898011E7B73054EE75AEF2EA', '五山超市购买百岁山矿泉水一瓶', '-3.5', '2017-08-25 18:32:52', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('C7E13100898011E7B73054EE75AEF2EA', '芷园午餐', '-9.5', '2017-08-25 18:32:54', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('C7E8198B898011E7B73054EE75AEF2EA', '三角市打印店复印', '-31.3', '2017-08-25 18:32:54', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('C7ED03B5898011E7B73054EE75AEF2EA', '五山区西点屋', '-11.5', '2017-08-25 18:32:54', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('C7F2241B898011E7B73054EE75AEF2EA', '荷园晚餐', '-9.5', '2017-08-25 18:32:54', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('C7F737DD898011E7B73054EE75AEF2EA', '三角市水果当铺', '-31.3', '2017-08-25 18:32:54', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('C7FC1E16898011E7B73054EE75AEF2EA', '启林区超市', '-11.5', '2017-08-25 18:32:54', '1E73AF6B0A04434E90F2D713B84487E5');
INSERT INTO `bill` VALUES ('CB52422E5B5C489CB8C71B79992A908E', '余额充值测试', '123', '2017-08-27 16:29:52', 'A9AC66608763446BBE689EEF76987B86');
INSERT INTO `bill` VALUES ('E9498CD79C9843BD9F13774C6A1861D9', '余额充值', '100', '2017-08-25 10:44:20', '82327E61FB424A629714BA5653F2C86A');
INSERT INTO `bill` VALUES ('FA91D932C5414D6BBD3DB50A90833736', '余额充值', '50', '2017-08-25 10:51:51', '82327E61FB424A629714BA5653F2C86A');
INSERT INTO `bill` VALUES ('FC319C107B7C4A8A944A0424B5DABA26', '余额充值', '100', '2017-09-14 23:24:50', null);

-- ----------------------------
-- Table structure for user
-- ----------------------------
DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `uid` varchar(32) NOT NULL,
  `username` varchar(20) DEFAULT NULL,
  `password` varchar(100) DEFAULT NULL,
  `name` varchar(20) DEFAULT NULL,
  `email` varchar(30) DEFAULT NULL,
  `birthday` date DEFAULT NULL,
  `sex` varchar(10) DEFAULT NULL,
  `time` datetime DEFAULT NULL,
  `balance` double(16,2) DEFAULT NULL,
  `state` int(11) DEFAULT NULL,
  PRIMARY KEY (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of user
-- ----------------------------
INSERT INTO `user` VALUES ('0074FFFCC7FA462FAAC3A5DC9763E590', '201628562333', '123', 'Joey', 'tom@store.com', '2017-08-24', '男', '2017-08-24 08:57:23', '152.20', '0');
INSERT INTO `user` VALUES ('1E73AF6B0A04434E90F2D713B84487E5', '201626041198', '123', 'Monica', 'monica@card.com', '2017-08-21', '女', '2017-08-24 08:37:23', '63.00', '1');
INSERT INTO `user` VALUES ('26EEB9A843A04DC59AB3919D0BFE66B1', '20000000000', '123', '华为', 'tom@store.com', '2017-08-27', '男', '2017-08-27 16:24:37', '0.00', '0');
INSERT INTO `user` VALUES ('45F1654E375043E998E5C5195C04E167', '201527043401', '123', 'Rachel', 'rachel@campus.com', '2017-08-24', '女', '2017-08-24 09:37:57', '41.90', '1');
INSERT INTO `user` VALUES ('5972830E41344A8EB23D5FEDC037249F', '201625040206', '123', 'DH', '123123@qq.com', '2017-08-23', '男', '2017-08-23 16:36:54', '441.90', '0');
INSERT INTO `user` VALUES ('637F2B78F1684BE6B51C56BACCBC3474', '201621040205', '123', '西路', '320825@card.com', '2017-08-23', '女', '2017-08-23 16:36:54', '141.90', '1');
INSERT INTO `user` VALUES ('82327E61FB424A629714BA5653F2C86A', '201621040215', '123', 'Chandler', 'chandler@campus.com', '2017-08-21', '男', '2017-08-25 09:37:57', '200.00', '0');
INSERT INTO `user` VALUES ('84F0C224EF2F4196A1B37DE64B9BF013', '201625050606', '123', '杰克', '799108252@qq.com', '2017-08-16', '男', '2017-08-23 16:44:17', '141.90', '1');
INSERT INTO `user` VALUES ('A9AC66608763446BBE689EEF76987B86', '321321', '123', '321', 'jack@store.com', '2017-08-27', '男', '2017-08-27 16:26:22', '223.00', '0');
INSERT INTO `user` VALUES ('DDB734BE74EC446BAA4444DA2E893243', '201622040265', '123', 'ruth', 'tom@store.com', '2017-08-22', '女', '2017-08-23 20:54:52', '141.90', '0');
INSERT INTO `user` VALUES ('EDA8C8162C0242BD8A989C73FE1D0573', '201527043402', '123', 'Ross', 'ross@campus.com', '2017-08-21', '男', '2017-08-25 12:05:00', '141.90', '0');
DROP TRIGGER IF EXISTS `t_afterinsert_on_bill`;
DELIMITER ;;
CREATE TRIGGER `t_afterinsert_on_bill` AFTER INSERT ON `bill` FOR EACH ROW BEGIN
	DECLARE bill_uid VARCHAR(32);
	DECLARE bill_money DOUBLE;
	
	SET bill_uid:= new.uid;
	SET bill_money:=new.money;
	
     UPDATE USER SET balance = balance + bill_money WHERE `uid` = bill_uid;
    END
;;
DELIMITER ;
